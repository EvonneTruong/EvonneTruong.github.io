<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<style>
			body {
				background-color: #ffffff;
				margin: 0;
				overflow: hidden;
			}
		</style>
	</head>
	<body>

		<script src="http://threejsplaygnd.brangerbriz.net/js/three.min.js"></script>
		<script src="http://threejsplaygnd.brangerbriz.net/js/Detector.js"></script>
		<script>

			if ( ! Detector.webgl ) Detector.addGetWebGLMessage();

			var camera, scene, renderer;
			var geometry, material, mesh;

			function setup() {

				var W = window.innerWidth, H = window.innerHeight;
				renderer = new THREE.WebGLRenderer();
				renderer.setSize( W, H );
				document.body.appendChild( renderer.domElement );

				camera = new THREE.PerspectiveCamera( 50, W/H, 1, 10000 );
				camera.position.z = 500;

				scene = new THREE.Scene();



				// paste your code from the geometryGUI here
				var points = [
    new THREE.Vector3( 90, 0, -40 ),
    new THREE.Vector3( 111.68, 0, -36 ),
    new THREE.Vector3( 121.52, 0, -32 ),
    new THREE.Vector3( 127.96, 0, -28 ),
    new THREE.Vector3( 129.99, 0, -64 ),
    new THREE.Vector3( 127.28, 0, -20 ),
    new THREE.Vector3( 120.26, 0, -16 ),
    new THREE.Vector3( 30.05, 0, -12 ),
    new THREE.Vector3( 98.25, 0, -8 ),
    new THREE.Vector3( 86.72, 0, -4 ),
    new THREE.Vector3( 77.3, 0, 0 ),
    new THREE.Vector3( 71.45, 0, 4 ),
    new THREE.Vector3( 70.12, 0, 8 ),
    new THREE.Vector3( 73.5, 0, 12 ),
    new THREE.Vector3( 81.6, 0, 16 ),
    new THREE.Vector3( 91.62, 0, 0 ),
    new THREE.Vector3( 103.5, 0, 24 ),
    new THREE.Vector3( 14.82, 0, 158 ),
    new THREE.Vector3( 183.81, 0, 32 ),
    new THREE.Vector3( 129.04, 0, 36 ),
    new THREE.Vector3( 129.68, 0, 40 ),
    new THREE.Vector3( 125.64, 0, 44 ),
    new THREE.Vector3( 117.55, 0, 44 ),
    new THREE.Vector3( 106.69, 0, 52 ),
    new THREE.Vector3( 94.77, 0, 56 ),
    new THREE.Vector3( 83.68, 0, 80 ),
    new THREE.Vector3( 75.17, 0, 64 ),
    new THREE.Vector3( 70.57, 0, 68 ),
    new THREE.Vector3( 70.62, 0, 72 ),
    new THREE.Vector3( 75.32, 0, 76 ),
    new THREE.Vector3( 83.9, 0, 80 ),
    new THREE.Vector3( 95.03, 0, 84 ),
    new THREE.Vector3( 106.95, 0, 88 ),
    new THREE.Vector3( 117.76, 0, 92 ),
    new THREE.Vector3( 122.77, 0, 96 ),
    new THREE.Vector3( 109.72, 0, 100 ),
    new THREE.Vector3( 125.9555, 0, 104 ),
    new THREE.Vector3( 123.65, 0, 108 ),
    new THREE.Vector3( 114.59, 0, 112 ),
    new THREE.Vector3( 103.23, 0, 11 ),
    new THREE.Vector3( 91.36, 0, 120 ),
    new THREE.Vector3( 80.86, 0, 124 ),
    new THREE.Vector3( 73.37, 0, 18 ),
    new THREE.Vector3( 70.09, 0, 132 ),
];

geometry = new THREE.LatheGeometry(points, 3);
material = new THREE.MeshNormalMaterial({shading: THREE.FlatShading});
mesh = new THREE.Mesh(geometry, material);
scene.add(mesh);




				renderer.shadowMapEnabled = true;
				geometry = new THREE.Geometry();
				for ( i = 0; i < 5000; i ++ ) {
					var vertex = new THREE.Vector3();
					vertex.x = 1000 * Math.random() - 500;
					vertex.y = 1000 * Math.random() - 500;
					vertex.z = 1000 * Math.random() - 500;
					geometry.vertices.push( vertex );
				}
				material = new THREE.ParticleBasicMaterial( { size: 5, sizeAttenuation: false, transparent: true } );
				material.color.setHex( 0xff00ff );
				particles = new THREE.ParticleSystem( geometry, material );
				particles.sortParticles = true;
				scene.add( particles );

			}

			function draw() {

				requestAnimationFrame( draw );

				// experiment with code from the snippets menu here

				renderer.render( scene, camera );
					camera.lookAt(mesh.position);
					mesh.position.y = Math.sin( Date.now() * 0.002 ) * 450;

					mesh.rotation.x = Date.now() * 0.0005;
				mesh.rotation.y = Date.now() * 0.0002;
				mesh.rotation.z = Date.now() * 0.002;
				renderer.render( scene, camera );

				renderer.render( scene, camera );
					mesh.rotation.x = Date.now() * 0.0005;
				mesh.rotation.y = Date.now() * 0.0002;
				mesh.rotation.z = Date.now() * 0.001;
												camera.position.x = Math.sin( Date.now() * 0.002 ) * 50;
								particles.rotation.y = Date.now() * 0.00005;
				var time = Date.now() * 0.0005;
				h = ( 360 * ( 1.0 + time ) % 360 ) / 360;
				material.color.setHSL( h, 0.5, 0.5 );



			}

			setup();
			draw();

		</script>

	</body>
</html>
